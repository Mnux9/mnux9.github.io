<!DOCTYPE html>
<html>

<head>
	<title>Mailbox Sensor</title>
	<link rel="stylesheet" type="text/css" href="../assets/css/old-post.css">
	</link>
	<link rel="shortcut icon" type="image/x-icon" href="../ini.ico">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://fonts.googleapis.com/css2?family=Ubuntu:ital,wght@0,300;0,400;0,500;0,700;1,300;1,400;1,500;1,700&display=swap"
        rel="stylesheet">
	<meta http-equiv="X-UA-Compatible" content="ie=edge">
	<meta charset="UTF-8">
</head>


<body>
    <!--top menu-->
    <div class="gradient">
        <div class="header">

            <a class="mname" style="margin: 0 1% 0 1%; color: white; font-weight: bold; text-decoration: underline;" href="https://mnux.xyz">mnux</a>            

        </div>

            <a class="description">Welcome to Mnux's website. This is my personal blog about electronics.</a>
    </div>

    <div class="posts">

        <div class="post1">
            <a class="ar-title">IoT Mailbox sensor</a><br>
            <img class="pic" src="../assets/images/mailbox-sensor/mailbox-thumb.jpg" /> </a>
            
            <div>
                <a class="p1-txt">
                    A mailbox sensor which sends me a notification through Home Assistant when I get mail.
                </a>
            </div>

            <div class="figs">
                <a class="sub-title">Construction</a><br>
                <a href="../assets/images/mailbox-sensor/bracket-desc.jpg">
                    <img class="pic" src="../assets/images/mailbox-sensor/bracket-desc.jpg" /> </a>
                </a>
                <div class="p1-txt">
                    <a>This bracket securely mounts the IOT board to a box without adding a lot of height so the push button doesn't collide with the battery.<br></a>
                </div>
    
                    
            </div>
            

            <div class="figs">
                <a class="sub-title">Inner workings</a><br>
                <a href="../assets/images/mailbox-sensor/mb-sensor-desc.jpg">
                    <img class="pic" src="../assets/images/mailbox-sensor/mb-sensor-desc.jpg" /> </a>
                </a>
    
                    
                    <a class="p1-txt-bold">
                        Tilt switch<br>
                    </a>
                    <div class="p1-txt">
                        <a>This is a SW-520D ball tilt switch, it wakes up the ESP-8266 when the mailbox lid is open.<br></a>
                    </div><br>
                    <a class="p1-txt-bold">
                       Temp + humidity<br>
                    </a>
                    <div class="p1-txt">
                        <a>While a tempature sensor inside of a mailbox has a debatable purpose. However it is pretty interesting
                            to know at what tempatures are the delivery people working. (its just a 1â‚¬ part anyway)<br></a>
                    </div><br>
                    <a class="p1-txt-bold">
                       Sensor power switch<br>
                     </a>
                     <div class="p1-txt">
                         <a>This being a battery powered sensor it needs to save as much energy as possible. The mosfet power switch
                            turns on the sensory only for the time they are needed.<br></a>
                     </div><br>
                     <a class="p1-txt-bold">
                        Sleep fix resistor<br>
                      </a>
                      <div class="p1-txt">
                          <a>For some reason my ESP8266 modules suffer from a problem called <a style="color: white;" href="https://github.com/esp8266/Arduino/issues/6007">"zoombie mode"</a>
                          where after waking them up from deep sleep they fail to boot. Thankfully this can be fixed by running a pullup resistor from GPIO 7.
                            <br></a>

                </a>
            </div><br>

            <div class="figs">
                <a class="sub-title">ESPHome and Home Assistant configuration</a><br>
                <a href="../assets/images/mailbox-sensor/mailbox-notification.png">
                    <img class="pic" src="../assets/images/mailbox-sensor/mailbox-notification.png" /> </a>
                </a>
                <div class="p1-txt">
                    <a>In home assistant i setup an automation setup which sends me a notification containing the current temperature and battery voltage
                        after it detects that the sensor woke up.<br> Alongside with the notification I also get information about the battery voltage and temperature.<br></a>
                </div>
    
                    
            </div>
            
            <div class="figs">
                <a class="p1-txt" style="color: rgba(204, 204, 204, 0.473);">
                    Published 9.12. 2024
                    
                </a>
            </div>
            
        </div>
        

    </div>


    <div class="tags">
        <a class="title">Silly badges :3</a> <br>
        <img alt="Open source" class="badge" src="../assets/badges/minecraft.png" />
        <img alt="Arch" class="badge" src="../assets/badges/arch.gif" />
        <img alt="Firefox" class="badge" src="../assets/badges/firefox3.gif" />
        <img alt="bob" class="badge" src="../assets/badges/bob.gif" />
    </div>

</body>
